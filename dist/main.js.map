{"version":3,"sources":["webpack://ShoppingcartES6/./src/App.js","webpack://ShoppingcartES6/./src/Cart.js","webpack://ShoppingcartES6/./src/Item.js","webpack://ShoppingcartES6/./src/cart.scss?db23","webpack://ShoppingcartES6/./src/styles.scss?0f77","webpack://ShoppingcartES6/webpack/bootstrap","webpack://ShoppingcartES6/webpack/runtime/define property getters","webpack://ShoppingcartES6/webpack/runtime/hasOwnProperty shorthand","webpack://ShoppingcartES6/webpack/runtime/make namespace object","webpack://ShoppingcartES6/./src/index.js"],"names":["getItems","fetch","method","headers","then","response","json","createProductListTemplate","productDetails","discount","image","name","price","stringObj","JSON","stringify","template","display","actual","addToCart","createProductList","items","forEach","item","document","getElementById","insertAdjacentHTML","bindAddToCartClick","createNewItemInCart","actualPrice","imageUrl","createdCart","createCartBody","handleAddToCartClick","event","console","log","target","parentElement","children","innerText","img","src","quantity","newCartItem","Item","addItemToCart","bindIncreaseAndDecreaseItemCount","createNewCart","newCart","Cart","addItem","selectedItem","find","i","toLowerCase","updateItemQuantity","Array","from","getElementsByClassName","el","addEventListener","increaseItemCount","productName","getTotal","decreaseItemCount","total","push","Number","replace","itemName","action","map","reduce","acc","obj","displayPrice"],"mappings":"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","file":"main.js","sourcesContent":["import Item from './Item';\r\nimport Cart from './Cart';\r\n\r\nconst getItems = () => {\r\n\r\n    return fetch('https://api.jsonbin.io/b/604b59ae7ffeba41c0770569', {\r\n        method: 'GET',\r\n\r\n        headers: {\r\n            'secret-key': '$2b$10$X5VpA2EtQtuQwkQnepGe2ehXNLtB40e.O5yrZ3rXK7heQHyin.QZG'\r\n        }\r\n    })\r\n        .then(response => { return response.json() })\r\n\r\n}\r\n\r\nconst createProductListTemplate = (productDetails) => {\r\n    const { discount, image, name, price } = productDetails\r\n    const stringObj = JSON.stringify(productDetails)\r\n    const template = `\r\n    <div class= \"card\" \"data-attr\" = \"${stringObj}\">\r\n        <div class=\"discount-badge\">${discount}% off</div>\r\n        <img class=\"product-image\" src = '${image}'>\r\n            <div class=\"card-details-section\">\r\n                <div class=\"product-name-container\" style=\"display:flex\"><p>${name}</p></div>\r\n                    <div class=\"item-prices-container\">\r\n                        <p class=\"display-price\">$${price.display}</p>\r\n                        <p class=\"actual-price\"> $${price.actual}</p>\r\n                        <button class=\"addToCartBtn\" onClick=\"${productDetails.addToCart}\">\r\n                            Add to Cart\r\n                        </button>\r\n                    </div>\r\n       \r\n            </div>\r\n    </div> `\r\n    return template;\r\n}\r\nexport const createProductList = () => {\r\n    getItems().then(({ items }) => {\r\n        let template = ``\r\n        items.forEach((item) => {\r\n\r\n            template += createProductListTemplate(item);\r\n        });\r\n        document.getElementById('primary-card-container').insertAdjacentHTML('beforeend', template)\r\n    }).then(() => {\r\n        bindAddToCartClick();\r\n    })\r\n}\r\n\r\nconst createNewItemInCart = (item) => {\r\n    const { actualPrice, imageUrl, name } = item\r\n    const template = ` <div class=\"cart-body\">\r\n    <div class=\"cart-item-holder\">\r\n        <div class=\"cart-item\">\r\n            <div class=\"cart-item-name-img-holder\">\r\n                <img class=\"cart-item-image\"\r\n                    src=\"${imageUrl}\" />\r\n                <p>${name}</p>\r\n            </div>\r\n            <div class=\"item-quantity-holder\">\r\n                <button class=\"increaseItemCountBtn\">+</button>\r\n                <p>1</p>\r\n                <button class=\"decreaseItemCountBtn\">-</button>\r\n            </div>\r\n            \r\n            <p>${actualPrice}</p>\r\n        </div>\r\n    </div>\r\n</div>`;\r\n    return template\r\n}\r\nlet createdCart = null;\r\nexport const createCartBody = (item) => {\r\n    const template = createNewItemInCart(item);\r\n    document.getElementById('cart').insertAdjacentHTML('beforeend', template);\r\n}\r\nconst handleAddToCartClick = (event) => {\r\n    console.log('add', event);\r\n    const price = event.target.parentElement.children[1].innerText;\r\n    const name = event.target.parentElement.parentElement.children[0].children[0].innerText;\r\n    const img = event.target.parentElement.parentElement.parentElement.children[1].src;\r\n    const quantity = 1;\r\n    const newCartItem = new Item(name, img, 0, price, 0, quantity);\r\n\r\n    createCartBody(newCartItem);\r\n    addItemToCart(newCartItem);\r\n    bindIncreaseAndDecreaseItemCount();\r\n}\r\nconst createNewCart= (item)=>{\r\n    const newCart = new Cart([], 0);\r\n    newCart.addItem(item);\r\n    createdCart = newCart;\r\n} ;\r\nconst addItemToCart = (item) => {\r\n    if(!!createdCart){\r\n        const selectedItem = createdCart.items.find(i => i.name.toLowerCase() === item.name.toLowerCase());\r\n        if(!!selectedItem){\r\n            createdCart.updateItemQuantity(item.name)\r\n        }else{\r\n            createNewCart(item)\r\n        };\r\n    }else{\r\n        createNewCart(item)\r\n    }\r\n    \r\n\r\n\r\n\r\n}\r\nexport const bindAddToCartClick = () => {\r\n    Array.from(document.getElementsByClassName('addToCartBtn')).forEach((el) => {\r\n        el.addEventListener('click', handleAddToCartClick, false)\r\n    });\r\n}\r\nconst increaseItemCount = (event) => {\r\n    const productName = event.target.parentElement.parentElement.children[0].children[1].innerText;\r\n    createdCart.updateItemQuantity(productName, 'increment')\r\n    console.log('increase item count');\r\n    console.log('cart total' , createdCart.getTotal())\r\n}\r\nconst decreaseItemCount = () => {\r\n    console.log('decrease item count');\r\n}\r\nconst bindIncreaseAndDecreaseItemCount = () => {\r\n    Array.from(document.getElementsByClassName('increaseItemCountBtn')).forEach((el) => {\r\n        el.addEventListener('click', increaseItemCount, false)\r\n    });\r\n\r\n    Array.from(document.getElementsByClassName('increaseItemCountBtn')).forEach((el) => {\r\n        el.addEventListener('click', decreaseItemCount, false)\r\n    });\r\n}\r\n\r\n\r\n","export default class Cart {\r\n    constructor() {\r\n        this.items = [];\r\n        this.total = 0;\r\n    }\r\n\r\n    addItem(item) {\r\n\r\n        this.items.push(item);\r\n        this.total += Number(item.actualPrice.replace('$', ''));\r\n\r\n\r\n\r\n    }\r\n\r\n    updateItemQuantity(itemName, action) {\r\n        const selectedItem = this.items.find(i => i.name.toLowerCase() === itemName.toLowerCase());\r\n        if (!!selectedItem) {\r\n            this.items = this.items.map((i) => {\r\n                if (selectedItem.name.toLowerCase() === i.name.toLowerCase()) {\r\n                    return {\r\n                        ...i, quantity: i.quantity += 1\r\n                    }\r\n                } else {\r\n                    return {\r\n                        ...i\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    removeItem() {\r\n        //TBD method logic\r\n    }\r\n\r\n    getItem() {\r\n        //TBD method logic\r\n    }\r\n\r\n    getTotal() {\r\n        return this.items.reduce(function (acc, obj) { return acc + (Number(obj.actualPrice.replace('$','')) * Number(obj.quantity))}, 0);\r\n    }\r\n}\r\n","export default class Item{\r\n    constructor(name , imageUrl , displayPrice = 0 ,actualPrice = 0,discount = 0 ,quantity = 0 ){\r\n        this.name = name;\r\n        this.imageUrl = imageUrl;\r\n        this.displayPrice = displayPrice;\r\n        this.actualPrice = actualPrice;\r\n        this.discount = discount;\r\n        this.quantity = quantity;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {createProductList} from './App';\r\nimport {createCartBody} from './App';\r\n//import {bindAddToCartClick} from './App';\r\n\r\nimport \"./styles.scss\";\r\nimport \"./cart.scss\";\r\nconsole.log('ES6 schopping cart');\r\ncreateProductList();\r\n\r\n\r\n//createCartBody();\r\n//bindAddToCartClick();"],"sourceRoot":""}